<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D√©verrouillage s√©curis√© + QCM</title>

<style>
/* ===== GLOBAL ===== */
*{box-sizing:border-box}
body{
    margin:0;
    font-family:'Segoe UI',Tahoma,sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
}

/* ===== HEADER ===== */
header{
    background:#2563eb;
    color:white;
    padding:15px 30px;
    display:flex;
    justify-content:center;
    position:sticky;
    top:0;
    z-index:100;
}
header nav a{
    color:white;
    margin:0 15px;
    text-decoration:none;
    font-weight:500;
}
header nav a.active{
    text-decoration:underline;
}

/* ===== LOCK SCREEN ===== */
#lock-screen{
    width:360px;
    padding:40px 30px;
    background:rgba(255,255,255,0.12);
    backdrop-filter:blur(12px);
    border-radius:18px;
    box-shadow:0 20px 40px rgba(0,0,0,0.4);
    text-align:center;
    color:#fff;
    margin:40px auto;
}
#lock-screen img{width:70px;margin-bottom:20px;}
#lock-screen input{
    width:100%;
    padding:15px;
    border-radius:10px;
    border:none;
    margin-bottom:20px;
    font-size:16px;
    text-align:center;
    letter-spacing:4px;
}
#lock-screen button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:10px;
    background:#00c6ff;
    font-weight:bold;
    cursor:pointer;
}
#lock-msg{margin-top:15px;height:20px}

/* ===== QCM ===== */
:root{
    --blue:#2563eb;
    --green:#16a34a;
    --red:#dc2626;
}
#quiz-screen{
    display:none;
    background:#fff;
    width:90%;
    max-width:800px;
    padding:30px;
    border-radius:16px;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
    margin:40px auto;
}
h1{text-align:center;color:var(--blue)}
.top-bar{
    display:flex;
    justify-content:space-between;
    margin-bottom:20px;
}
.timer{
    font-weight:bold;
    background:#e0e7ff;
    padding:8px 16px;
    border-radius:999px;
}
.question{
    font-size:24px;
    font-weight:700;
    margin-bottom:25px;
}
.option{
    width:100%;
    padding:14px;
    margin:12px 0;
    font-size:18px;
    border-radius:10px;
    border:2px solid #e5e7eb;
    background:#f8fafc;
    cursor:pointer;
}
.option:hover{border-color:var(--blue)}
.correct{background:#dcfce7;border-color:var(--green)}
.wrong{background:#fee2e2;border-color:var(--red)}
#result{
    text-align:center;
    font-size:22px;
    font-weight:bold;
    margin-top:20px;
}
#restart{
    display:none;
    margin:25px auto 0;
    padding:12px 24px;
    font-size:18px;
    border:none;
    border-radius:999px;
    background:var(--blue);
    color:white;
    cursor:pointer;
}
</style>
</head>

<body>

<header>
<nav>
    <a href="index.html">HOMEüë®üèΩ‚Äçüíª</a>
    <a href="cours.html">COURSüìñ</a>
    <a class="active" href="exo.html">EXAMENüìù</a>
    <a href="contact.html">HELP</a>
</nav>
</header>

<!-- ===== LOCK ===== -->
<div id="lock-screen">
    <img src="https://cdn-icons-png.flaticon.com/512/3064/3064155.png">
    <h2>D√©verrouillage</h2>
    <input type="password" id="pin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <button onclick="unlock()">D√©verrouiller</button>
    <div id="lock-msg"></div>
</div>

<!-- ===== QUIZ ===== -->
<div id="quiz-screen">
    <h1>QCM Cybers√©curit√© (70 questions)</h1>
    <div class="top-bar">
        <div id="progress"></div>
        <div class="timer" id="timer">15:00</div>
    </div>
    <div id="quiz"></div>
    <div id="result"></div>
    <button id="restart" onclick="startQuiz()">üîÑ Recommencer</button>
</div>

<script>
/* ===== D√âVERROUILLAGE ===== */
const PIN_CORRECT="7183";
let tentatives=0;

function unlock(){
    const pin=document.getElementById("pin").value;
    const msg=document.getElementById("lock-msg");

    if(tentatives>=3){
        msg.textContent="üîí Acc√®s bloqu√©";
        return;
    }

    if(pin===PIN_CORRECT){
        msg.textContent="‚úî Acc√®s autoris√©";
        setTimeout(()=>{
            document.getElementById("lock-screen").style.display="none";
            document.getElementById("quiz-screen").style.display="block";
            startQuiz();
        },300);
    }else{
        tentatives++;
        msg.textContent="‚ùå Mot de passe incorrect";
    }
    document.getElementById("pin").value="";
}

/* ===== 70 QUESTIONS ===== */
const questions=[
 {q:"1. La cybers√©curit√© prot√®ge uniquement les donn√©es personnelles des individus.",a:false},
 {q:"2. Les niveaux de protection incluent le personnel, le professionnel et le gouvernemental.",a:true},
 {q:"3. L'usurpation d'identit√© est un risque li√© aux donn√©es personnelles.",a:true},
 {q:"4. Les donn√©es IoT augmentent le risque de violations de s√©curit√©.",a:true},
 {q:"5. Le Cube de McCumber inclut confidentialit√©, int√©grit√© et disponibilit√©.",a:true},
 {q:"6. Les hackers chapeau noir testent la s√©curit√© avec autorisation.",a:false},
 {q:"7. Les menaces internes peuvent provenir d'employ√©s involontaires.",a:true},
 {q:"8. Stuxnet est un malware utilis√© uniquement pour espionner les emails.",a:false},
 {q:"9. Les violations de donn√©es peuvent entra√Æner des pertes financi√®res.",a:true},
 {q:"10. Un ransomware chiffre les donn√©es et exige une ran√ßon.",a:true},
 {q:"11. Un ver n√©cessite l'action de l'utilisateur pour se propager.",a:false},
 {q:"12. Le rootkit est facile √† d√©tecter.",a:false},
 {q:"13. L'ing√©nierie sociale exploite la psychologie humaine.",a:true},
 {q:"14. Une attaque DDoS provient d'une seule machine.",a:false},
 {q:"15. Les botnets sont des r√©seaux d'appareils zombies.",a:true},
 {q:"16. Le cryptojacking mine des cryptomonnaies sans consentement.",a:true},
 {q:"17. Les mises √† jour sont inutiles avec un antivirus.",a:false},
 {q:"18. Le chiffrement prot√®ge contre l'acc√®s non autoris√©.",a:true},
 {q:"19. Le 2FA renforce la s√©curit√©.",a:true},
 {q:"20. OAuth √©vite de partager son mot de passe.",a:true},
 {q:"21. Un mot de passe fort doit √™tre long et complexe.",a:true},
 {q:"22. La navigation priv√©e rend totalement anonyme.",a:false},
 {q:"23. Un pare-feu filtre le trafic r√©seau.",a:true},
 {q:"24. IDS bloque automatiquement le trafic.",a:false},
 {q:"25. Un VPN cr√©e un tunnel chiffr√©.",a:true},
 {q:"26. Les honeypots attirent les attaquants.",a:true},
 {q:"27. Les tests d'intrusion ne n√©cessitent pas d'autorisation.",a:false},
 {q:"28. La gestion des risques inclut identification et r√©ponse.",a:true},
 {q:"29. La r√©ponse aux incidents inclut la communication.",a:true},
 {q:"30. Une seule couche de s√©curit√© suffit.",a:false},
 {q:"31. CEH concerne le hacking √©thique.",a:true},
 {q:"32. CISSP exige environ 5 ans d'exp√©rience.",a:true},
 {q:"33. Les certifications am√©liorent l'employabilit√©.",a:true},
 {q:"34. CyberSeek analyse le march√© de l'emploi cyber.",a:true},
 {q:"35. L'√©thique est inutile en cybers√©curit√©.",a:false},
 {q:"36. Le Wi-Fi public sans VPN est s√©curis√©.",a:false},
 {q:"37. Les sauvegardes √©vitent les pertes de donn√©es.",a:true},
 {q:"38. D√©truire physiquement un disque est s√ªr.",a:true},
 {q:"39. Le phishing peut se faire par email.",a:true},
 {q:"40. Les APT sont des attaques avanc√©es.",a:true},
 {q:"41. Spyware et adware peuvent coexister.",a:true},
 {q:"42. Les pentests r√©v√®lent des failles.",a:true},
 {q:"43. Spectre/Meltdown exploitent le mat√©riel.",a:true},
 {q:"44. EFS prot√®ge les donn√©es en transit.",a:false},
 {q:"45. La cybers√©curit√© est une responsabilit√© partag√©e.",a:true},
 {q:"46. Un antivirus bloque tous les malwares.",a:false},
 {q:"47. Le MFA est plus s√ªr qu‚Äôun mot de passe seul.",a:true},
 {q:"48. Les vuln√©rabilit√©s zero-day sont connues des √©diteurs.",a:false},
 {q:"49. L'authentification biom√©trique peut remplacer les mots de passe.",a:false},
 {q:"50. Le phishing vocal s'appelle vishing.",a:true},
 {q:"51. Le spear-phishing cible des individus pr√©cis.",a:true},
 {q:"52. Les mots de passe doivent √™tre chang√©s r√©guli√®rement.",a:true},
 {q:"53. Le Wi-Fi WPA2 est plus s√©curis√© que WEP.",a:true},
 {q:"54. Les logs r√©seau aident √† d√©tecter les attaques.",a:true},
 {q:"55. Le Social Engineering ne concerne que les emails.",a:false},
 {q:"56. Un honeypot est un leurre pour hackers.",a:true},
 {q:"57. La conformit√© RGPD prot√®ge la vie priv√©e.",a:true},
 {q:"58. La segmentation r√©seau limite la propagation des attaques.",a:true},
 {q:"59. Les sauvegardes cloud sont toujours crypt√©es.",a:false},
 {q:"60. Les IDS d√©tectent les intrusions en temps r√©el.",a:true},
 {q:"61. Une attaque MITM intercepte les communications.",a:true},
 {q:"62. La cybers√©curit√© est un investissement, pas une d√©pense.",a:true},
 {q:"63. Les script kiddies ont peu de comp√©tences.",a:true},
 {q:"64. Le ransomware peut chiffrer des serveurs entiers.",a:true},
 {q:"65. La sensibilisation du personnel r√©duit les risques.",a:true},
 {q:"66. Les VPN gratuits sont toujours s√ªrs.",a:false},
 {q:"67. Les certificats SSL/TLS s√©curisent les sites web.",a:true},
 {q:"68. Les tests d'intrusion doivent √™tre document√©s.",a:true},
 {q:"69. Les APT peuvent rester longtemps invisibles.",a:true},
 {q:"70. La cybers√©curit√© doit √©voluer constamment.",a:true}
];

/* ===== M√âLANGE ===== */
function shuffle(array){
    for(let i=array.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [array[i],array[j]]=[array[j],array[i]];
    }
}

/* ===== QCM LOGIC ===== */
let current=0,score=0,timeLeft=900,timer;

function startQuiz(){
    shuffle(questions);
    current=0;score=0;timeLeft=900;
    document.getElementById("result").innerHTML="";
    document.getElementById("restart").style.display="none";
    startTimer();
    showQuestion();
}

function startTimer(){
    clearInterval(timer);
    timer=setInterval(()=>{
        let m=Math.floor(timeLeft/60);
        let s=timeLeft%60;
        document.getElementById("timer").textContent=
        `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
        timeLeft--;
        if(timeLeft<0) endQuiz();
    },1000);
}

function showQuestion(){
    if(current>=questions.length){endQuiz();return;}
    document.getElementById("progress").textContent=
    `Question ${current+1} / ${questions.length}`;
    document.getElementById("quiz").innerHTML=`
    <div class="question">${questions[current].q}</div>
    <button class="option" onclick="answer(true,this)">Vrai</button>
    <button class="option" onclick="answer(false,this)">Faux</button>`;
}

function answer(val,btn){
    if(val===questions[current].a){
        btn.classList.add("correct");
        score++;
    }else{
        btn.classList.add("wrong");
    }
    document.querySelectorAll(".option").forEach(b=>b.disabled=true);
    setTimeout(()=>{current++;showQuestion();},600);
}

function endQuiz(){
    clearInterval(timer);
    let note=((score/questions.length)*20).toFixed(2);
    document.getElementById("quiz").innerHTML="";
    document.getElementById("result").innerHTML=
    `üéØ Score : ${score} / 70<br>üìä Note : <b>${note} / 20</b>`;
    document.getElementById("restart").style.display="block";
}
</script>

</body>
</html>
