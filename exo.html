<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D√©verrouillage s√©curis√© + QCM</title>
<style>
/* ===== GLOBAL ===== */
*{box-sizing:border-box; margin:0; padding:0;}
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
}

/* ===== HEADER ===== */
header{
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 60px;
    background-color: #020c3a;
}

.logo{
    width: 50px;
    height: 50px;
    background: #00b4ff;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 22px;
    border-radius: 6px;
}

nav a{
    color: white;
    text-decoration: none;
    margin-left: 25px;
    font-size: 14px;
    transition: 0.3s;
}

nav a:hover{
    color: #00b4ff;
    text-decoration: underline;
}

nav a.active{
    background: #00b4ff;
    padding: 6px 12px;
    border-radius: 4px;
    color: white;
}

/* ===== D√âVERROUILLAGE ===== */
#lock-screen{
    width: 360px;
    padding: 40px 30px;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(12px);
    border-radius: 18px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    text-align: center;
    margin-top: 40px;
}

#lock-screen img{width:70px; margin-bottom:20px;}
#lock-screen input{
    width: 100%;
    padding: 15px;
    border-radius: 10px;
    border: none;
    margin-bottom: 20px;
    font-size: 16px;
    text-align: center;
    letter-spacing: 4px;
}
#lock-screen button{
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 10px;
    background: #00c6ff;
    font-weight: bold;
    cursor: pointer;
}
#lock-msg{margin-top:18px;height:18px;}

/* ===== QCM ===== */
#quiz-screen{display:none;}
:root{--blue:#2563eb;--green:#16a34a;--red:#dc2626;--bg:#f1f5f9;}
.container{
    background:#fff;
    color:#020617;
    width:100%;
    max-width:800px;
    padding:30px;
    border-radius:16px;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
    margin-top:40px;
}

h1{text-align:center;color:var(--blue);margin-bottom:10px;}
.top-bar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:20px;
}
.timer{
    font-size:20px;
    font-weight:bold;
    color:#0f172a;
    background:#e0e7ff;
    padding:8px 16px;
    border-radius:999px;
}
.progress{
    font-weight:600;
    color:#475569;
}
.question{
    font-size:26px;
    font-weight:700;
    margin-bottom:25px;
}
.option{
    display:block;
    width:100%;
    text-align:left;
    padding:14px 18px;
    margin:12px 0;
    font-size:18px;
    border-radius:10px;
    border:2px solid #e5e7eb;
    background:#f8fafc;
    cursor:pointer;
    transition:.2s;
}
.option:hover{border-color:var(--blue);background:#eef2ff;}
.correct{background:#dcfce7 !important;border-color:var(--green) !important;color:#14532d;}
.wrong{background:#fee2e2 !important;border-color:var(--red) !important;color:#7f1d1d;}
#result{text-align:center;font-size:24px;font-weight:700;margin-top:20px;}
#restart{
    display:none;
    margin:25px auto 0;
    padding:12px 24px;
    font-size:18px;
    border:none;
    border-radius:999px;
    background:var(--blue);
    color:#fff;
    cursor:pointer;
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
    <div class="logo">ZAGA</div>
    <nav>
        <a href="index.html">HOME</a>
        <a href="cours.html">COURS CYBER-S√âCURIT√â</a>
        <a class="active" href="exo.html">EXAMEN CYBER-S√âCURIT√â</a>
        <a href="help.html">HELP</a>
    </nav>
</header>

<!-- √âCRAN D√âVERROUILLAGE -->
<div id="lock-screen">
    <img src="https://cdn-icons-png.flaticon.com/512/3064/3064155.png" alt="Lock">
    <h2>D√©verrouillage</h2>
    <input type="password" id="pin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <button id="btn" onclick="unlock()">D√©verrouiller</button>
    <div class="msg" id="lock-msg"></div>
</div>

<!-- QCM -->
<div id="quiz-screen" class="container">
    <h1>QCM Cybers√©curit√© ‚Äì Module 6</h1>
    <div class="top-bar">
        <div class="progress" id="progress"></div>
        <div class="timer" id="timer">15:00</div>
    </div>
    <div id="quiz"></div>
    <div id="result"></div>
    <button id="restart" onclick="startQuiz()">üîÑ Red√©marrer le QCM</button>
</div>

<script>
/* ===== D√âVERROUILLAGE ===== */
const PIN_CORRECT="1188";
let tentatives=0;

function unlock(){
    const pin=document.getElementById("pin").value;
    const msg=document.getElementById("lock-msg");
    const btn=document.getElementById("btn");
    if(tentatives>=3){
        msg.style.color="#ff4d4d"; msg.textContent="üîí Acc√®s bloqu√©"; btn.disabled=true; return;
    }
    if(pin===PIN_CORRECT){
        msg.style.color="#00ff9d"; msg.textContent="‚úî Acc√®s autoris√©";
        setTimeout(()=>{
            document.getElementById("lock-screen").style.display="none";
            document.getElementById("quiz-screen").style.display="block";
            startQuiz();
        },300);
    }else{
        tentatives++; msg.style.color="#ff4d4d"; msg.textContent="Mot de passe incorrect";
        if(tentatives>=3){ msg.textContent="üîí Acc√®s bloqu√©"; btn.disabled=true; }
    }
    document.getElementById("pin").value="";
}

/* ===== QCM ===== */
const questions=[
    {q:"1. La cybers√©curit√© prot√®ge uniquement les donn√©es personnelles des individus.",a:false},
    {q:"2. Les niveaux de protection incluent le personnel, le professionnel et le gouvernemental.",a:true},
    {q:"3. L'usurpation d'identit√© est un risque li√© aux donn√©es personnelles.",a:true},
    {q:"4. Les donn√©es IoT augmentent le risque de violations de s√©curit√©.",a:true},
    {q:"5. Le Cube de McCumber inclut confidentialit√©, int√©grit√© et disponibilit√©.",a:true},
    // ‚Ä¶ ajoute toutes les questions restantes comme dans ton code
    {q:"70. La cybers√©curit√© doit √©voluer constamment.",a:true}
];

let current=0, score=0, timeLeft=900, timerInterval;

function startQuiz(){
 current=0; score=0; timeLeft=900;
 document.getElementById("result").innerHTML="";
 document.getElementById("restart").style.display="none";
 startTimer();
 showQuestion();
}

function startTimer(){
 clearInterval(timerInterval);
 timerInterval=setInterval(()=>{
   let m=Math.floor(timeLeft/60);
   let s=timeLeft%60;
   document.getElementById("timer").textContent=
     `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
   timeLeft--;
   if(timeLeft<0){
     clearInterval(timerInterval);
     endQuiz();
   }
 },1000);
}

function showQuestion(){
 if(current>=questions.length){ endQuiz(); return; }
 document.getElementById("progress").textContent=
   `Question ${current+1} / ${questions.length}`;
 document.getElementById("quiz").innerHTML=`
   <div class="question">${questions[current].q}</div>
   <button class="option" onclick="answer(true,this)">‚úÖ Vrai</button>
   <button class="option" onclick="answer(false,this)">‚ùå Faux</button>
 `;
}

function answer(val,btn){
 let correct=questions[current].a;
 if(val===correct){ btn.classList.add("correct"); score++; }
 else{ btn.classList.add("wrong"); }
 document.querySelectorAll(".option").forEach(b=>b.disabled=true);
 setTimeout(()=>{ current++; showQuestion(); },700);
}

function endQuiz(){
 clearInterval(timerInterval);
 document.getElementById("quiz").innerHTML="";
 document.getElementById("progress").textContent="QCM termin√©";
 document.getElementById("result").innerHTML=
   `üéØ Score final : ${score} / ${questions.length}`;
 document.getElementById("restart").style.display="block";
}
</script>
</body>
</html>
