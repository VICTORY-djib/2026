<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EVALUATION.COM</title>
<style>
/* ===== GLOBAL ===== */
body{
    margin:0;
    font-family:'Segoe UI',Tahoma,sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:#020617;
}

/* ===== LOCK SCREEN ===== */
#lock-screen{
    width:360px;
    padding:40px 30px;
    background:rgba(255,255,255,0.12);
    backdrop-filter:blur(12px);
    border-radius:18px;
    box-shadow:0 20px 40px rgba(0,0,0,0.4);
    text-align:center;
    color:#fff;
    position: absolute;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
}
#lock-screen img{width:70px;margin-bottom:20px;}
#lock-screen input{
    width:100%;
    padding:15px;
    border-radius:10px;
    border:none;
    margin-bottom:20px;
    font-size:16px;
    text-align:center;
    letter-spacing:4px;
}
#lock-screen button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:10px;
    background:#00c6ff;
    font-weight:bold;
    cursor:pointer;
}
#lock-msg{
    margin-top:18px;
    height:20px;
    font-weight:600;
}

/* ===== HEADER ===== */
header{
    background:#2563eb;
    padding:14px 28px;
    display:flex;
    justify-content:center;
    align-items:center;
    position:sticky;
    top:0;
    z-index:100;
}
header nav{
    display:flex;
    gap:12px;
}
header nav a{
    color:white;
    text-decoration:none;
    padding:8px 20px;
    border-radius:999px;
    font-size:14.5px;
    font-weight:600;
    white-space:nowrap;
    transition:all 0.25s ease;
}
header nav a:hover{
    background:rgba(255,255,255,0.25);
}
header nav a.active{
    background:white;
    color:#2563eb;
    box-shadow:0 4px 10px rgba(0,0,0,0.2);
}

/* ===== QUIZ SCREEN ===== */
#quiz-screen{
    display:none;
    max-width:800px;
    width:90%;
    margin:40px auto;
    background:#fff;
    padding:30px;
    border-radius:16px;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
}
h1{text-align:center;color:#2563eb;margin-bottom:10px;}
.top-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;}
.timer{
    font-size:20px;
    font-weight:bold;
    color:#0f172a;
    background:#e0e7ff;
    padding:8px 16px;
    border-radius:999px;
}
.progress{font-weight:600;color:#475569;}
.question{
    font-size:22px;
    font-weight:700;
    margin-bottom:25px;
}
.option{
    display:block;
    width:100%;
    text-align:left;
    padding:14px 18px;
    margin:12px 0;
    font-size:18px;
    border-radius:10px;
    border:2px solid #e5e7eb;
    background:#f8fafc;
    cursor:pointer;
    transition:.2s;
}
.option:hover{border-color:#2563eb;background:#eef2ff;}
.correct{background:#dcfce7 !important;border-color:#16a34a !important;color:#14532d;}
.wrong{background:#fee2e2 !important;border-color:#dc2626 !important;color:#7f1d1d;}
#result{
    text-align:center;
    font-size:24px;
    font-weight:700;
    margin-top:20px;
    padding:20px;
    border-radius:16px;
    background:linear-gradient(135deg,#1e3a8a,#2563eb);
    color:white;
    box-shadow:0 15px 40px rgba(0,0,0,.3);
}
#restart{
    display:none;
    margin:25px auto 0;
    padding:12px 24px;
    font-size:18px;
    border:none;
    border-radius:999px;
    background:#2563eb;
    color:#fff;
    cursor:pointer;
}
#recent-scores{
    margin-top:20px;
    font-size:16px;
    color:#020617;
    text-align:center;
    font-weight:600;
}

/* ===== RESULT MESSAGE STYL√â ===== */
.result-message{
    margin-top:12px;
    font-size:20px;
    font-weight:600;
}
</style>
</head>
<body>

<header>
    <nav>
        <a href="index.html">homeüë®üèΩ‚Äçüíª</a>
        <a href="cours.html">Cyber-S√©curit√©üìñ</a>
        <a href="reseau.html">reseau-informatiqueüìñ</a>
        <a class="active" href="#">Evaluation1üìù</a>
    </nav>
</header>

<div id="lock-screen">
    <img src="https://cdn-icons-png.flaticon.com/512/3064/3064155.png" alt="Lock">
    <h2>D√©verrouillage</h2>
    <input type="password" id="pin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <button id="btn" onclick="unlock()">D√©verrouiller</button>
    <div class="msg" id="lock-msg"></div>
</div>

<div id="quiz-screen">
    <h1>QCM Cybers√©curit√©</h1>
    <div class="top-bar">
        <div class="progress" id="progress"></div>
        <div class="timer" id="timer">15:00</div>
    </div>
    <div id="quiz"></div>
    <div id="result"></div>
    <div class="result-message" id="result-msg"></div>
    <button id="restart" onclick="restartQuiz()">üîÑ Red√©marrer le QCM</button>
    <div id="recent-scores"></div>
</div>

<script>
// ===== VARIABLES LOCK/PUK =====
const PIN_CORRECT = "2026";
const PUK_CORRECT = "253";
const MAX_TENTATIVES = 3;
let tentatives = 0;
let etape = "PIN";
let tentativesActuelles = 0;
let essaisScores = [];

// ===== UNLOCK LOCK-SCREEN =====
function unlock(){
    const input = document.getElementById("pin");
    const valeur = input.value;
    const msg = document.getElementById("lock-msg");

    if(etape === "PIN"){
        if(valeur === PIN_CORRECT){
            msg.style.color = "#00ff9d";
            msg.textContent = "‚úî PIN correct, acc√®s autoris√©";
            tentatives = 0;
            setTimeout(()=>{
                document.getElementById("lock-screen").style.display="none";
                document.getElementById("quiz-screen").style.display="block";
                startQuiz();
            },300);
        }else{
            tentatives++;
            msg.style.color="#ff4d4d";
            msg.textContent=`‚ùå PIN incorrect (${tentatives}/${MAX_TENTATIVES})`;
            if(tentatives>=MAX_TENTATIVES){
                etape="PUK";
                msg.style.color="#ffcc00";
                msg.textContent="üîí Trop de tentatives. Entrez le PUK";
                input.placeholder="Entrer le PUK";
                input.value="";
            }
        }
    } else if(etape==="PUK"){
        if(valeur === PUK_CORRECT){
            etape="PIN";
            tentatives=0;
            msg.style.color="#00c6ff";
            msg.textContent="üîì PUK correct. Entrez votre PIN";
            input.placeholder="Entrer le PIN";
            input.value="";
        } else{
            msg.style.color="#ff4d4d";
            msg.textContent="‚ùå PUK incorrect";
        }
    }
}

document.addEventListener("keydown", (e)=>{
    if(e.key==="Enter") unlock();
});

// ===== RELOCK =====
function relock(reason=""){
    document.getElementById("quiz-screen").style.display="none";
    document.getElementById("lock-screen").style.display="block";
    const msg=document.getElementById("lock-msg");
    msg.style.color="#ffcc00";
    msg.textContent=reason || "üîê Session verrouill√©e";
    document.getElementById("pin").value="";
}

// ===== ANTI-TRICHE =====
window.addEventListener("beforeunload",()=>relock("üîê Vous avez quitt√© la page"));
document.addEventListener("visibilitychange",()=>{
    if(document.hidden && document.getElementById("quiz-screen").style.display==="block"){
        relock("üîê Changement d‚Äôonglet d√©tect√©");
    }
});
/* ===== QCM QUESTIONS ===== */
const questions = [
{q:"Quel protocole s√©curise les communications web ?", o:["HTTP","HTTPS","FTP"], a:1},
{q:"Quelle technique emp√™che la r√©utilisation des mots de passe vol√©s ?", o:["Salage des mots de passe","Hashing simple","Compression"], a:0},
{q:"Quel protocole est utilis√© pour s√©curiser les emails avec chiffrement asym√©trique ?", o:["SMTP","PGP","IMAP"], a:1},
{q:"Quel type d'attaque consiste √† injecter du code SQL ?", o:["XSS","SQL Injection","MITM"], a:1},
{q:"Quelle m√©thode authentifie les utilisateurs sans mot de passe ?", o:["OAuth","Phishing","Brute Force"], a:0},
{q:"Quel outil permet de d√©tecter les intrusions r√©seau ?", o:["Firewall","IDS/IPS","VPN"], a:1},
{q:"Dans le mod√®le Zero Trust, que fait-on par d√©faut ?", o:["Tout est de confiance","Tout doit √™tre v√©rifi√©","Seul le r√©seau interne est fiable"], a:1},
{q:"Quel type de malware se cache dans le noyau du syst√®me ?", o:["Rootkit","Ransomware","Spyware"], a:0},
{q:"Quelle attaque utilise la falsification ARP ?", o:["ARP Spoofing","DNS Spoofing","XSS"], a:0},
{q:"Quel m√©canisme permet de v√©rifier l'int√©grit√© d'un fichier ?", o:["Checksum/Hash","VPN","AES"], a:0},
{q:"Quel chiffrement est asym√©trique ?", o:["RSA","AES","Blowfish"], a:0},
{q:"Quel protocole prot√®ge les API contre l‚Äôusurpation ?", o:["OAuth 2.0","FTP","Telnet"], a:0},
{q:"Quel malware chiffre les fichiers et demande une ran√ßon ?", o:["Ransomware","Trojan","Rootkit"], a:0},
{q:"Quel type d‚Äôattaque surcharge un serveur par requ√™tes ?", o:["DDoS","XSS","SQL Injection"], a:0},
{q:"Quelle technique isole l‚Äôex√©cution d‚Äôapplications ?", o:["Sandboxing","VPN","Firewall"], a:0},
{q:"Quel protocole est utilis√© pour √©tablir un tunnel s√©curis√© entre r√©seaux ?", o:["HTTP","VPN","SMTP"], a:1},
{q:"Quel m√©canisme emp√™che l‚Äôinjection SQL ?", o:["Requ√™tes pr√©par√©es","Antivirus","Base64"], a:0},
{q:"Quel type de phishing utilise un site web clon√© ?", o:["Spear phishing","Clone phishing","Whaling"], a:1},
{q:"Quelle norme r√©git la protection des donn√©es personnelles en Europe ?", o:["GDPR/RGPD","ISO27001","HIPAA"], a:0},
{q:"Quel type de chiffrement est utilis√© pour TLS ?", o:["Sym√©trique et asym√©trique","Uniquement sym√©trique","Uniquement asym√©trique"], a:0},
{q:"Quelle attaque exploite une faille Zero-Day ?", o:["Zero-Day Exploit","Backdoor","Rootkit"], a:0},
{q:"Quel protocole s√©curise les communications r√©seau sans fil ?", o:["WEP/WPA2","HTTP","SMTP"], a:0},
{q:"Quel m√©canisme emp√™che le vol de mot de passe via hash ?", o:["Salage","Chiffrement sym√©trique","Compression"], a:0},
{q:"Quel type de malware collecte des informations √† l‚Äôinsu de l‚Äôutilisateur ?", o:["Spyware","Ransomware","Trojan"], a:0},
{q:"Quelle attaque redirige le trafic DNS ?", o:["DNS Spoofing","ARP Poisoning","MITM"], a:0},
{q:"Quelle technique permet d‚Äô√©viter le MITM sur HTTPS ?", o:["Certificat SSL/TLS valide","VPN","Proxy"], a:0},
{q:"Quel protocole s√©curise l‚Äôacc√®s distant au serveur ?", o:["SSH","FTP","Telnet"], a:0},
{q:"Quelle technique emp√™che la r√©utilisation d‚Äôun mot de passe vol√© ?", o:["Salage et hash","Compression","Cryptanalyse"], a:0},
{q:"Quel m√©canisme d‚Äôauthentification utilise un jeton temporaire ?", o:["OTP","Password","PIN"], a:0},
{q:"Quelle attaque exploite la m√©moire tampon ?", o:["Buffer Overflow","DDoS","SQL Injection"], a:0},
{q:"Quel type de malware s‚Äôinjecte dans un programme l√©gitime ?", o:["Trojan","Rootkit","Ransomware"], a:0},
{q:"Quel protocole s√©curise le transfert de fichiers ?", o:["SFTP","FTP","HTTP"], a:0},
{q:"Quelle solution prot√®ge les endpoints ?", o:["Antivirus/EDR","VPN","Proxy"], a:0},
{q:"Quel protocole chiffre les communications web de bout en bout ?", o:["TLS/HTTPS","HTTP","FTP"], a:0},
{q:"Quel type d‚Äôattaque cible la session de l‚Äôutilisateur ?", o:["Session Hijacking","XSS","SQL Injection"], a:0},
{q:"Quel m√©canisme permet de v√©rifier qu‚Äôun message n‚Äôa pas √©t√© modifi√© ?", o:["HMAC","AES","VPN"], a:0},
{q:"Quelle solution prot√®ge contre les logiciels malveillants propag√©s ?", o:["Segmentation et antivirus","HTTP","SMTP"], a:0},
{q:"Quel type de malware modifie le syst√®me pour rester cach√© ?", o:["Rootkit","Ransomware","Spyware"], a:0},
{q:"Quel protocole est s√©curis√© par certificat SSL/TLS ?", o:["HTTPS","HTTP","FTP"], a:0},
{q:"Quel outil permet de d√©tecter une attaque r√©seau en temps r√©el ?", o:["IDS/IPS","VPN","Firewall"], a:0},
{q:"Quelle attaque cible directement les mots de passe stock√©s sous forme de hash ?", o:["Pass-the-Hash","Brute Force","Phishing"], a:0},
{q:"Quel type d‚Äôattaque exploite un script malveillant sur une page web ?", o:["XSS","SQL Injection","DDoS"], a:0},
{q:"Quel protocole s√©curise l‚Äôacc√®s aux emails via client mail ?", o:["IMAPS","SMTP","HTTP"], a:0},
{q:"Quel m√©canisme assure la confidentialit√© et l‚Äôint√©grit√© des donn√©es r√©seau ?", o:["IPSec","FTP","HTTP"], a:0},
{q:"Quel type d‚Äôattaque manipule les adresses MAC pour intercepter le trafic ?", o:["ARP Spoofing","DNS Spoofing","MITM"], a:0},
{q:"Quel protocole permet la gestion s√©curis√©e des certificats num√©riques ?", o:["PKI","HTTP","FTP"], a:0},
{q:"Quel m√©canisme de s√©curit√© repose sur plusieurs couches de protection ?", o:["D√©fense en profondeur","Firewall seul","Mot de passe fort"], a:0},
{q:"Quel type de phishing cible un individu pr√©cis avec des informations personnalis√©es ?", o:["Spear phishing","Clone phishing","Mass phishing"], a:0},
{q:"Quel protocole assure la confidentialit√© des communications VoIP ?", o:["SRTP","RTP","HTTP"], a:0},
{q:"Quel m√©canisme prot√®ge les API contre les attaques externes ?", o:["OAuth 2.0","Telnet","FTP"], a:0},
{q:"Quelle attaque consiste √† saturer la m√©moire ou les ressources d‚Äôun syst√®me ?", o:["DDoS","Buffer Overflow","MITM"], a:0},
{q:"Quel protocole s√©curise les transactions bancaires en ligne ?", o:["HTTPS/TLS","HTTP","FTP"], a:0},
{q:"Quelle m√©thode permet d‚Äôisoler les applications pour r√©duire les risques ?", o:["Sandboxing","VPN","Firewall"], a:0},
{q:"Quel m√©canisme utilise une cl√© publique pour chiffrer les donn√©es ?", o:["Chiffrement asym√©trique","AES","MD5"], a:0},
{q:"Quel outil prot√®ge les serveurs et postes clients des malwares ?", o:["Antivirus/EDR","SSH","Telnet"], a:0},
{q:"Quel type de certificat valide l‚Äôidentit√© d‚Äôun site web ?", o:["SSL/TLS","VPN","HTTP"], a:0},
{q:"Quelle attaque redirige le trafic r√©seau vers un serveur malveillant ?", o:["DNS Spoofing","ARP Spoofing","MITM"], a:0},
{q:"Quel protocole est utilis√© pour s√©curiser les communications sans fil ?", o:["WPA2/WPA3","HTTP","FTP"], a:0},
{q:"Quel m√©canisme de s√©curit√© v√©rifie que les donn√©es n‚Äôont pas √©t√© modifi√©es ?", o:["HMAC/Checksum","AES","VPN"], a:0},
{q:"Quel protocole s√©curise la messagerie instantan√©e ?", o:["Signal Protocol","XMPP","HTTP"], a:0},
{q:"Quelle attaque cible les applications web via scripts ?", o:["XSS","SQL Injection","CSRF"], a:0},
{q:"Quel protocole est utilis√© pour s√©curiser le transfert de fichiers volumineux ?", o:["SFTP","FTP","HTTP"], a:0},
{q:"Quel m√©canisme prot√®ge les mots de passe des utilisateurs ?", o:["Hash+Salt","AES","Compression"], a:0},
{q:"Quel protocole assure la confidentialit√© des emails ?", o:["PGP","SMTP","IMAP"], a:0},
{q:"Quel type de malware se propage automatiquement via r√©seau ?", o:["Worm","Trojan","Rootkit"], a:0},
{q:"Quel protocole s√©curise les √©changes IoT ?", o:["MQTT avec TLS","MQTT","HTTP"], a:0},
{q:"Quelle attaque exploite les failles CSRF ?", o:["CSRF","XSS","SQL Injection"], a:0},
{q:"Quel protocole assure l‚Äôauthentification centralis√©e ?", o:["Kerberos","LDAP","HTTP"], a:0},
{q:"Quel outil permet de surveiller le trafic r√©seau ?", o:["Wireshark","Ping","Traceroute"], a:0},
{q:"Quel type de malware se cache dans des fichiers l√©gitimes ?", o:["Trojan","Rootkit","Spyware"], a:0},
{q:"Quel protocole permet l‚Äôauthentification forte multifacteur ?", o:["RADIUS","HTTP","SMTP"], a:0},
{q:"Quel m√©canisme prot√®ge les API contre les attaques par injection ?", o:["Input Validation","FTP","Telnet"], a:0},
{q:"Quel protocole chiffre les communications mobiles ?", o:["TLS/HTTPS","HTTP","FTP"], a:0},
{q:"Quel type d‚Äôattaque exploite les mots de passe faibles ?", o:["Brute Force","Phishing","SQL Injection"], a:0},
{q:"Quel protocole s√©curise les connexions Wi-Fi professionnelles ?", o:["WPA3-Enterprise","WEP","HTTP"], a:0},
{q:"Quel m√©canisme permet la tra√ßabilit√© des actions utilisateur ?", o:["Audit Logs","VPN","Firewall"], a:0},
{q:"Quel type d‚Äôattaque cible la m√©moire du syst√®me pour obtenir des privil√®ges ?", o:["Buffer Overflow","DDoS","MITM"], a:0},
{q:"Quel protocole assure la s√©curit√© des transactions mobiles ?", o:["TLS/HTTPS","HTTP","FTP"], a:0},
{q:"Quel m√©canisme emp√™che la divulgation de donn√©es sensibles sur les endpoints ?", o:["Data Loss Prevention","VPN","Firewall"], a:0}
];

// ===== SHUFFLE =====
function shuffleOptions(){questions.forEach(q=>{
    let correct=q.o[q.a];
    for(let i=q.o.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [q.o[i],q.o[j]]=[q.o[j],q.o[i]];
    }
    q.a=q.o.indexOf(correct);
})}
function shuffleQuestions(arr){for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
}}

// ===== QUIZ LOGIC =====
let current=0, score=0, timeLeft=900, timerInterval;

function startQuiz(){
    current=0; score=0; timeLeft=900;
    shuffleQuestions(questions);
    shuffleOptions();
    document.getElementById("result").innerHTML="";
    document.getElementById("result-msg").innerHTML="";
    document.getElementById("restart").style.display="none";
    startTimer();
    showQuestion();
}

function startTimer(){
    clearInterval(timerInterval);
    timerInterval=setInterval(()=>{
        let m=Math.floor(timeLeft/60);
        let s=timeLeft%60;
        document.getElementById("timer").textContent=`${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
        timeLeft--;
        if(timeLeft<0){ relock("‚è± Temps √©coul√© ‚Äì examen termin√©"); }
    },1000);
}

function showQuestion(){
    if(current>=questions.length){ endQuiz(); return; }
    document.getElementById("progress").textContent=`Question ${current+1} / ${questions.length}`;
    let q=questions[current];
    let html=`<div class="question">${q.q}</div>`;
    q.o.forEach((opt,i)=>{html+=`<button class="option" onclick="answer(${i},this)">${opt}</button>`;});
    document.getElementById("quiz").innerHTML=html;
}

function answer(val,btn){
    let correct=questions[current].a;
    if(val===correct){ btn.classList.add("correct"); score++; } else { btn.classList.add("wrong"); }
    document.querySelectorAll(".option").forEach(b=>b.disabled=true);
    setTimeout(()=>{ current++; showQuestion(); },700);
}

// ===== FIN QUIZ =====
function endQuiz(){
    clearInterval(timerInterval);
    let noteSur20=((score/questions.length)*20).toFixed(2);
    essaisScores.push(Number(noteSur20));
    showRecentScores();

    // Message styl√© selon note
    let msg;
    if(noteSur20<10) msg="R√©sultat mauvais üòì Il faut r√©viser.";
    else if(noteSur20<12) msg="R√©sultat moyeneüôÇ Pas mal, tu peux faire mieux";
    else if(noteSur20<15) msg="R√©sultat convenable";
    else if(noteSur20<18) msg="Tr√®s bienüëè";
    else msg="ExcellenteüèÜ Excellent travail !";

    document.getElementById("result").innerHTML=`üéØ Score : ${score}/${questions.length}<br>üìä Note : ${noteSur20}/20`;
    document.getElementById("result-msg").textContent=msg;

    tentativesActuelles++;
    let moyenne = (essaisScores.reduce((a,b)=>a+b,0)/(tentativesActuelles*20))*100;

    if(moyenne>=70){
        relock("üîê Moyenne ‚â•70% ‚Äì PIN requis");
    } else if(tentativesActuelles<MAX_TENTATIVES){
        setTimeout(startQuiz,1500);
    } else {
        document.getElementById("restart").style.display="block";
    }
}

function restartQuiz(){
    document.getElementById("quiz-screen").style.display="none";
    document.getElementById("lock-screen").style.display="block";
    document.getElementById("lock-msg").style.color="#ffcc00";
    document.getElementById("lock-msg").textContent="üîê Veuillez entrer le PIN pour continuer";
    tentativesActuelles=0;
    essaisScores=[];
}

function showRecentScores(){
    document.getElementById("recent-scores").textContent=
        essaisScores.length>0 ? `üíæ Scores tentatives : ${essaisScores.join(" / ")}` : "üíæ Pas encore de scores";
}

showRecentScores();
</script>
</body>
</html>
